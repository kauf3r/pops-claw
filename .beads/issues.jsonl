{"id":"pops-claw-324","title":"Phase 2: Gateway \u0026 Database Configuration","description":"## Goal\nConfigure multi-agent routing in gateway and create SQLite coordination tables.\n\n## Prerequisites (Complete)\n- Phase 1 done: Agent workspaces exist at ~/clawd/agents/{main,landos,rangeos,ops}/\n- SOUL.md and HEARTBEAT.md files created for all 4 agents\n- AGENTS.md operating manual at ~/clawd/shared/\n- SSH access working: `ssh pops-claw`\n\n## Requirements (10 total)\n\n### Gateway (GW-01 to GW-05)\n- [ ] GW-01: Backup existing clawdbot.json\n- [ ] GW-02: Add agent routes (4 agents)\n- [ ] GW-03: Configure staggered heartbeats (15min, 2min offset: :00, :02, :04, :06)\n- [ ] GW-04: Map Slack channels (#clawdbot→main, #land-ops→landos, #range-ops→rangeos, #ops→ops)\n- [ ] GW-05: Restart gateway and verify\n\n### Database (DB-01 to DB-05)\n- [ ] DB-01: Create agent_tasks table (id, agent_id, title, status, priority, beads_issue_id, timestamps)\n- [ ] DB-02: Create agent_messages table (from_agent, to_agent, message_type, subject, body, read_at)\n- [ ] DB-03: Create agent_activity table (agent_id, activity_type, summary, created_at)\n- [ ] DB-04: Create indexes for efficient queries\n- [ ] DB-05: Verify database accessible from agent workspaces\n\n## Key Files\n- Config: ~/.clawdbot/clawdbot.json\n- Database: ~/clawd/coordination.db (new SQLite)\n- Plans: .planning/phases/ (Phase 2 plans TBD)\n\n## Agent Roster\n| ID | Name | Domain | Heartbeat | Channel |\n|----|------|--------|-----------|---------|\n| main | Andy | Coordinator | :00 | #clawdbot |\n| landos | Scout | Land Investing | :02 | #land-ops |\n| rangeos | Vector | UAS Ops | :04 | #range-ops |\n| ops | Sentinel | Infrastructure | :06 | #ops |\n\n## Access\n- EC2: ssh pops-claw (100.72.143.9)\n- Tailscale required\n\n## Notes\n- SQLite chosen over Convex for simplicity\n- Slack channels #land-ops, #range-ops, #ops need to be created (Phase 3)\n- This phase focuses on gateway config + database schema only","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-01T11:43:49.805385-08:00","created_by":"andykaufman","updated_at":"2026-02-01T11:53:47.950533-08:00","closed_at":"2026-02-01T11:53:47.950533-08:00","close_reason":"All 10 requirements complete: 4 agent routes, channel bindings, heartbeat cron jobs, SQLite coordination.db with 3 tables + indexes","labels":["phase"]}
{"id":"pops-claw-36t","title":"Phase 3: Browser Control \u0026 Automation","description":"Verify agent-browser + Chromium, change Docker network to bridge, test web automation","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-30T09:39:33.551547-08:00","created_by":"andykaufman","updated_at":"2026-01-30T10:25:55.983677-08:00","closed_at":"2026-01-30T10:25:55.983677-08:00","close_reason":"Completed in parallel session","labels":["phase"]}
{"id":"pops-claw-668","title":"Phase 1: Security Audit \u0026 Hardening","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-30T09:39:24.700856-08:00","created_by":"andykaufman","updated_at":"2026-01-30T09:39:30.757646-08:00","closed_at":"2026-01-30T09:39:30.757646-08:00","close_reason":"Audit complete - no vulnerabilities found. Gateway loopback-only, UFW active, ports blocked.","labels":["phase"]}
{"id":"pops-claw-6fi","title":"Configure Gmail plugin in clawdbot.json","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T09:45:33.548321-08:00","created_by":"andykaufman","updated_at":"2026-01-30T10:11:50.217953-08:00","closed_at":"2026-01-30T10:11:50.217953-08:00","close_reason":"Gmail hooks configured in clawdbot.json, gateway reloaded","dependencies":[{"issue_id":"pops-claw-6fi","depends_on_id":"pops-claw-yoz","type":"blocks","created_at":"2026-01-30T09:45:38.579729-08:00","created_by":"andykaufman"}]}
{"id":"pops-claw-7xv","title":"Gmail Pub/Sub setup for real-time notifications","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T09:45:33.573543-08:00","created_by":"andykaufman","updated_at":"2026-01-30T10:12:00.278523-08:00","closed_at":"2026-01-30T10:12:00.278523-08:00","close_reason":"Pub/Sub push blocked by org policy. Using on-demand + cron polling (Phase 4) instead.","dependencies":[{"issue_id":"pops-claw-7xv","depends_on_id":"pops-claw-6fi","type":"blocks","created_at":"2026-01-30T09:45:38.601488-08:00","created_by":"andykaufman"}]}
{"id":"pops-claw-akb","title":"Phase 3: Slack Channels \u0026 Agent Testing","description":"## Goal\nCreate Slack channels and test multi-agent routing end-to-end.\n\n## Prerequisites (Complete)\n- Phase 2 done: Gateway configured with 4 agents + bindings\n- SQLite coordination.db created with 3 tables\n- Heartbeat cron jobs configured (15min staggered)\n\n## Requirements (8 total)\n\n### Slack Channels (SC-01 to SC-03) ✅\n- [x] SC-01: Create #land-ops channel in Slack\n- [x] SC-02: Create #range-ops channel in Slack\n- [x] SC-03: Create #ops channel in Slack\n- Note: Main channel changed from #clawdbot to #popsclaw\n- Fix: Bindings required channel IDs not names\n\n### Agent Testing (AT-01 to AT-05)\n- [x] AT-01: Test main agent responds in #popsclaw\n- [x] AT-02: Test landos agent responds in #land-ops\n- [x] AT-03: Test rangeos agent responds in #range-ops\n- [x] AT-04: Test ops agent responds in #ops\n- [ ] AT-05: Test inter-agent messaging via coordination.db\n\n## Agent Roster\n| ID | Name | Channel | Channel ID |\n|----|------|---------|------------|\n| main | Andy | #popsclaw | C0AD48J8CQY |\n| landos | Scout | #land-ops | C0AD4842LJC |\n| rangeos | Vector | #range-ops | C0AC3HB82P5 |\n| ops | Sentinel | #ops | C0AD485E50Q |\n\n## Access\n- EC2: ssh pops-claw (100.72.143.9)\n- Slack: AK's workspace","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-01T11:55:04.451148-08:00","created_by":"andykaufman","updated_at":"2026-02-01T12:21:29.420467-08:00","closed_at":"2026-02-01T12:21:29.420467-08:00","close_reason":"Phase 3 complete. All Slack channels created, all 4 agents respond correctly in their channels. Inter-agent messaging via coordination.db verified - cron jobs fixed, test message inserted. Heartbeat pickup confirmed working at next scheduled run.","labels":["phase"]}
{"id":"pops-claw-han","title":"Phase 4: Cron/Scheduled Tasks","description":"Enable cron + wakeups feature, configure webhooks, set up recurring automations, test heartbeat","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-30T09:39:34.821221-08:00","created_by":"andykaufman","updated_at":"2026-01-30T10:25:55.986813-08:00","closed_at":"2026-01-30T10:25:55.986813-08:00","close_reason":"Completed in parallel session","labels":["phase"]}
{"id":"pops-claw-hub","title":"Phase 2: Email/Calendar Integration (Gmail)","description":"## Goal\nEnable OpenClaw to read/summarize emails and manage calendar on a Gmail account.\n\n## Prerequisites\n- Google Cloud project with Gmail API and Calendar API enabled\n- OAuth 2.0 credentials (Desktop app type)\n- User's Gmail account to integrate\n\n## Implementation Steps\n\n### 1. Google Cloud Setup\n- Create project at console.cloud.google.com\n- Enable Gmail API and Google Calendar API\n- Create OAuth 2.0 credentials (Desktop application)\n- Download credentials JSON\n\n### 2. OpenClaw Configuration\n- SSH to EC2: `ssh -i ~/.ssh/clawdbot-key.pem ubuntu@100.72.143.9`\n- Add Gmail plugin config to ~/.clawdbot/clawdbot.json\n- Set up OAuth token storage\n\n### 3. Gmail Pub/Sub (Real-time notifications)\n- Create Pub/Sub topic in Google Cloud\n- Grant Gmail publish permissions\n- Configure webhook endpoint or polling\n\n### 4. Testing\n- Test email read access\n- Test calendar read/write\n- Verify real-time notifications work\n\n## Key Questions to Ask User\n1. Which Google account for Gmail/Calendar?\n2. What scopes needed? (read-only vs full access)\n3. Should agent be able to send emails or just read?\n\n## References\n- OpenClaw docs: https://openclaw.ai/\n- Gmail API: https://developers.google.com/gmail/api\n- EC2 access: 100.72.143.9 via Tailscale\n- SSH key: ~/.ssh/clawdbot-key.pem","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-30T09:39:32.024068-08:00","created_by":"andykaufman","updated_at":"2026-01-30T10:12:22.313886-08:00","closed_at":"2026-01-30T10:12:22.313886-08:00","close_reason":"Gmail and Calendar integration complete. OAuth configured, gog CLI working, clawdbot hooks configured. Push notifications deferred to cron polling.","labels":["phase"]}
{"id":"pops-claw-hvl","title":"Phase 2: Gmail Integration","description":"Gmail Pub/Sub integration complete. Account: theandykaufman@gmail.com. Push endpoint: https://ip-172-31-7-127.tail26c537.ts.net:8443/gmail-pubsub","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-01T13:40:54.045769-08:00","created_by":"andykaufman","updated_at":"2026-02-01T13:41:05.2209-08:00","closed_at":"2026-02-01T13:41:05.2209-08:00","close_reason":"Complete. Gmail integration working - test email triggered agent successfully."}
{"id":"pops-claw-il2","title":"Phase 1: Workspace Setup","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-01T11:38:09.036153-08:00","created_by":"andykaufman","updated_at":"2026-02-01T11:40:13.868242-08:00","closed_at":"2026-02-01T11:40:13.868242-08:00","close_reason":"Phase 1 complete: 11/11 requirements - agent dirs, SOUL.md, HEARTBEAT.md, AGENTS.md, WORKING.md","labels":["phase"]}
{"id":"pops-claw-mpt","title":"Test Gmail read/send functionality","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T09:45:33.596888-08:00","created_by":"andykaufman","updated_at":"2026-01-30T10:12:18.311098-08:00","closed_at":"2026-01-30T10:12:18.311098-08:00","close_reason":"Gmail read/search and Calendar access verified via gog CLI","dependencies":[{"issue_id":"pops-claw-mpt","depends_on_id":"pops-claw-6fi","type":"blocks","created_at":"2026-01-30T09:45:38.624276-08:00","created_by":"andykaufman"}]}
{"id":"pops-claw-po1","title":"Complete Phase 1 execution (01-02 SUMMARY + verification)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-07T13:40:25.336382-08:00","created_by":"andykaufman","updated_at":"2026-02-09T10:45:12.35257-08:00","closed_at":"2026-02-09T10:45:12.35257-08:00","close_reason":"v2.0 milestone shipped, stale task"}
{"id":"pops-claw-qjk","title":"Voice-memory-v2 processing pipeline stuck after Supabase restore","description":"After unpausing Supabase project (fxrmpizgvffylhifyhyn), note processing is stuck. Notes upload successfully but don't progress past 'uploaded' status. Whisper transcription + GPT-4o analysis pipeline not firing. Affects: Hainline Rd 141.m4a (b960b933) and a short recording (25cffbcf, stuck at 'queued'). User ID changed after restore: now 8a012b66-e058-48d9-8e22-b750815cd743 (was da9fdfd3). Process API at /api/notes/{id}/process requires auth. Check Vercel function logs for errors. This blocks the voice→priorities→Bob pipeline.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-02-10T11:02:06.23853-08:00","created_by":"andykaufman","updated_at":"2026-02-10T11:02:06.23853-08:00"}
{"id":"pops-claw-rj4","title":"Phase 6: Production Hardening","description":"Set up monitoring/alerting, log rotation, recovery procedures, final security review","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-30T09:39:35.76748-08:00","created_by":"andykaufman","updated_at":"2026-01-30T10:33:51.747756-08:00","closed_at":"2026-01-30T10:33:51.747756-08:00","close_reason":"Production hardening complete","labels":["phase"],"dependencies":[{"issue_id":"pops-claw-rj4","depends_on_id":"pops-claw-hub","type":"blocks","created_at":"2026-01-30T09:39:41.824339-08:00","created_by":"andykaufman"},{"issue_id":"pops-claw-rj4","depends_on_id":"pops-claw-36t","type":"blocks","created_at":"2026-01-30T09:39:41.851165-08:00","created_by":"andykaufman"},{"issue_id":"pops-claw-rj4","depends_on_id":"pops-claw-han","type":"blocks","created_at":"2026-01-30T09:39:41.87242-08:00","created_by":"andykaufman"},{"issue_id":"pops-claw-rj4","depends_on_id":"pops-claw-x7l","type":"blocks","created_at":"2026-01-30T09:39:41.892543-08:00","created_by":"andykaufman"}]}
{"id":"pops-claw-x7l","title":"Phase 5: Additional Messaging Integrations","description":"Review Slack Socket Mode setup, add WhatsApp/Telegram if desired","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-30T09:39:35.449509-08:00","created_by":"andykaufman","updated_at":"2026-01-30T10:25:55.987934-08:00","closed_at":"2026-01-30T10:25:55.987934-08:00","close_reason":"Completed in parallel session","labels":["phase"]}
{"id":"pops-claw-yoz","title":"Google Cloud Project Setup (OAuth + APIs)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-30T09:45:33.521345-08:00","created_by":"andykaufman","updated_at":"2026-01-30T10:10:27.385377-08:00","closed_at":"2026-01-30T10:10:27.385377-08:00","close_reason":"OAuth credentials configured, Gmail and Calendar API access verified"}
